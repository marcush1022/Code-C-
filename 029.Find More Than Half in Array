/************************************************************************************************/
Find the numbers in an array, its appearance times more than the half of the length of the array.
example:
array={1,2,3,2,2,2,5,4,2}
return 2
/************************************************************************************************/

class Solution
{
	public:
		int doPartition(vector<int> &nums, int left, int right)
		{
			int val=nums[right];
			for(int i=left; i<right; i++)
			{
				if(nums[i]<val)
				{
					swap(nums[left++], nums[i]);
				}
			}
			swap(nums[left], nums[right]);
			return left;
		}

		int findMoreThanHalf(vector<int> &nums)
		{
			int ans;
			int len=nums.size();
			int pos=len/2;
			cout<<"pos= "<<pos<<endl;
			int left=0;
			int right=len-1;
			while((ans=doPartition(nums, left, right))!=pos)
			{
				if(ans>pos)
					right=ans-1;
				else
					left=ans+1;
			}

			return nums[pos];
		}
};

int main()
{
    vector<int> nums;
    nums.push_back(2);
    nums.push_back(2);
    nums.push_back(2);
    nums.push_back(3);
    nums.push_back(3);
    nums.push_back(3);
    nums.push_back(2);
    nums.push_back(2);
    nums.push_back(2);
    cout<<"size= "<<nums.size()<<endl;
    cout<<"BEFORE: "<<endl;
    for(int i=0;i<nums.size();i++)
            cout<<nums[i]<<",";
    cout<<endl;
    Solution s;
    cout<<s.findMoreThanHalf(nums);
}
